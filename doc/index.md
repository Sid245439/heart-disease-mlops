# Heart Disease MLOps â€” Assignment Documentation

This repository implements an end-to-end MLOps workflow for a **Heart Disease risk classifier** using the **UCI Heart Disease dataset**.

It is structured to satisfy the assignment requirements:

- Data acquisition + EDA
- Feature engineering + training of at least two models
- Experiment tracking (MLflow)
- Reproducible packaging (saved preprocessor + model, requirements)
- CI with lint/format/typing/tests + artifacts
- Containerized model-serving API (FastAPI)
- Kubernetes deployment manifest
- Monitoring via Prometheus metrics + structured logging

## Quickstart

### Run CI sessions locally (same as GitHub Actions)

```bash
uv pip install --system nox nox-uv
nox
```

### Train models (also logs to MLflow)

```bash
nox -s train
```

### Run API locally

```bash
uvicorn app:app --reload
```

- Swagger UI: http://localhost:8000/docs
- Metrics: http://localhost:8000/metrics

## Assignment pages

- [Setup & Reproducibility](setup.md)
- [EDA](eda.md)
- [Modeling](modeling.md)
- [Experiment Tracking](experiment-tracking.md)
- [API Serving](api.md)
- [CI/CD](ci-cd.md)
- [Containerization](containerization.md)
- [Deployment (Kubernetes)](deployment.md)
- [Monitoring & Logging](monitoring.md)
- [Architecture](architecture.md)
- [Rubric Mapping](assignment-mapping.md)

## Reports & assets

### EDA figures

- [Target distribution](images/heart_disease_target_distribution.png)
- [Correlation heatmap](images/heart_disease_correlation_matrix.png)
- [Categorical distributions](images/heart_disease_categorical_distribution.png)
- [Numerical distributions](images/heart_disease_numerical_distribution.png)
- [Confusion matrix](images/heart_disease_confusion_matrix.png)

### Monitoring screenshots

- [Prometheus targets](images/screenshots/monitoring-targets.png)
- [Requests total](images/screenshots/monitoring-requests-total.png)
- [Request rate v1](images/screenshots/monitoring-requests-rate-v1.png)
- [Request rate v2](images/screenshots/monitoring-requests-rate-v2.png)
- [/metrics output](images/screenshots/monitoring-metrics-terminal-view.png)
- [API health curl](images/screenshots/curl-call-api-health.png)

### CI reports (generated by nox sessions)

- Ruff lint report: [HTML](reports/ruff/ruff-lint-report.html) | [JUnit XML](reports/ruff/ruff-lint-report.xml)
- Format check report: [HTML](reports/format/ruff-format-report.html) | [Diff patch](reports/format/ruff-format-diff.patch)
- Mypy report: [HTML](reports/typing/mypy-report.html) | [JUnit XML](reports/typing/mypy-report.xml)
- Pytest report: [HTML](reports/pytest/pytest-report.html) | [JUnit XML](reports/pytest/pytest-report.xml)
- Coverage report: [HTML index](reports/coverage/htmlcov/index.html) | [XML](reports/coverage/coverage-report.xml)

### Other assets

- MkDocs static styling: `_static/`
